{"remainingRequest":"G:\\dev\\PlantManager\\frontend\\node_modules\\babel-loader\\lib\\index.js!G:\\dev\\PlantManager\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!G:\\dev\\PlantManager\\frontend\\src\\utils\\helpers.js","dependencies":[{"path":"G:\\dev\\PlantManager\\frontend\\src\\utils\\helpers.js","mtime":1622228145061},{"path":"G:\\dev\\PlantManager\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\dev\\PlantManager\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"G:\\dev\\PlantManager\\frontend\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmV4cG9ydCB2YXIgZ2V0RXJyb3IgPSBmdW5jdGlvbiBnZXRFcnJvcihlcnJvcikgewogIHZhciBlcnJvck1lc3NhZ2UgPSAi0J7RiNC40LHQutCwIEFQSSwg0L/QvtC/0YDQvtCx0YPQudGC0LUg0LXRidC1INGA0LDQty4iOwoKICBpZiAoZXJyb3IubmFtZSA9PT0gIkZldGNoIFVzZXIiKSB7CiAgICByZXR1cm4gZXJyb3IubWVzc2FnZTsKICB9CgogIGlmICghZXJyb3IucmVzcG9uc2UpIHsKICAgIGNvbnNvbGUuZXJyb3IoIkFQSSAiLmNvbmNhdChlcnJvci5jb25maWcudXJsLCAiIFx1MDQzRFx1MDQzNSBcdTA0M0RcdTA0MzBcdTA0MzlcdTA0MzRcdTA0MzVcdTA0M0RcdTA0M0UiKSk7CiAgICByZXR1cm4gZXJyb3JNZXNzYWdlOwogIH0KCiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAiZGV2ZWxvcG1lbnQiKSB7CiAgICBjb25zb2xlLmVycm9yKGVycm9yLnJlc3BvbnNlLmRhdGEpOwogICAgY29uc29sZS5lcnJvcihlcnJvci5yZXNwb25zZS5zdGF0dXMpOwogICAgY29uc29sZS5lcnJvcihlcnJvci5yZXNwb25zZS5oZWFkZXJzKTsKICB9CgogIGlmIChlcnJvci5yZXNwb25zZS5kYXRhICYmIGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3JzKSB7CiAgICByZXR1cm4gZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcnM7CiAgfQoKICByZXR1cm4gZXJyb3JNZXNzYWdlOwp9Ow=="},{"version":3,"sources":["G:/dev/PlantManager/frontend/src/utils/helpers.js"],"names":["getError","error","errorMessage","name","message","response","console","config","url","process","env","NODE_ENV","data","status","headers","errors"],"mappings":";AAAA,OAAO,IAAMA,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAW;AACjC,MAAMC,YAAY,GAAG,iCAArB;;AAEA,MAAID,KAAK,CAACE,IAAN,KAAe,YAAnB,EAAiC;AAC/B,WAAOF,KAAK,CAACG,OAAb;AACD;;AAED,MAAI,CAACH,KAAK,CAACI,QAAX,EAAqB;AACnBC,IAAAA,OAAO,CAACL,KAAR,eAAqBA,KAAK,CAACM,MAAN,CAAaC,GAAlC;AACA,WAAON,YAAP;AACD;;AACD,MAAIO,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AAC1CL,IAAAA,OAAO,CAACL,KAAR,CAAcA,KAAK,CAACI,QAAN,CAAeO,IAA7B;AACAN,IAAAA,OAAO,CAACL,KAAR,CAAcA,KAAK,CAACI,QAAN,CAAeQ,MAA7B;AACAP,IAAAA,OAAO,CAACL,KAAR,CAAcA,KAAK,CAACI,QAAN,CAAeS,OAA7B;AACD;;AACD,MAAIb,KAAK,CAACI,QAAN,CAAeO,IAAf,IAAuBX,KAAK,CAACI,QAAN,CAAeO,IAAf,CAAoBG,MAA/C,EAAuD;AACrD,WAAOd,KAAK,CAACI,QAAN,CAAeO,IAAf,CAAoBG,MAA3B;AACD;;AAED,SAAOb,YAAP;AACD,CArBM","sourcesContent":["export const getError = (error) => {\n  const errorMessage = \"Ошибка API, попробуйте еще раз.\";\n\n  if (error.name === \"Fetch User\") {\n    return error.message;\n  }\n\n  if (!error.response) {\n    console.error(`API ${error.config.url} не найдено`);\n    return errorMessage;\n  }\n  if (process.env.NODE_ENV === \"development\") {\n    console.error(error.response.data);\n    console.error(error.response.status);\n    console.error(error.response.headers);\n  }\n  if (error.response.data && error.response.data.errors) {\n    return error.response.data.errors;\n  }\n\n  return errorMessage;\n};\n"]}]}